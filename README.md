# Парсер тендеров с rostender.info

Автоматизированный парсер для сбора данных о тендерах с сайта rostender.info. Извлекает информацию о закупках, включая номера, названия, категории, регионы, цены и сроки подачи заявок.

## Описание работы

Парсер работает следующим образом:

1. **Постраничный обход**: Переходит по страницам сайта rostender.info, начиная с первой
2. **Извлечение данных**: Для каждого тендера извлекает:
   - ID тендера
   - Номер тендера
   - Название/описание
   - Ссылку на полное описание
   - Категорию закупки
   - Регион
   - Начальную цену
   - Дату и время окончания подачи заявок
   - Тип закупки (44-ФЗ, 223-ФЗ, Коммерческий)
3. **Сохранение**: Записывает все данные в CSV файл

## Как запускать

### Требования
```bash
pip install requests beautifulsoup4 lxml
```

### Базовый запуск
```bash
python main.py
```
По умолчанию парсит 100 тендеров и сохраняет в `tenders.csv`

### С параметрами
```bash
# Парсить 50 тендеров
python main.py --max 50

# Сохранить в другой файл
python main.py --output my_tenders.csv

# Использовать другой URL (например, для поиска по региону)
python main.py --url "https://rostender.info/extsearch?query=51207ecc4633854356b096984e4ea9e0&page={}"
```

### Параметры командной строки
- `--max` - максимальное количество тендеров для парсинга (по умолчанию: 100)
- `--output` - имя выходного CSV файла (по умолчанию: tenders.csv)
- `--url` - базовый URL для парсинга (по умолчанию: https://rostender.info/extsearch?page={})

## Что использовал

### Основные библиотеки
- **requests** - для HTTP запросов к сайту
- **BeautifulSoup4** - для парсинга HTML и извлечения данных
- **lxml** - быстрый XML/HTML парсер
- **csv** - для записи данных в CSV формат
- **re** - для работы с регулярными выражениями
- **argparse** - для обработки аргументов командной строки

### Технические особенности
- **User-Agent заголовки** - для имитации браузера
- **Таймауты** - для предотвращения зависания запросов
- **Задержки между запросами** - 1 секунда для уважительного парсинга
- **Обработка ошибок** - graceful handling сетевых и парсинговых ошибок
- **Регулярные выражения** - для извлечения дат, времени и цен из текста

## Структура данных

CSV файл содержит следующие колонки:
- `id` - уникальный идентификатор тендера
- `number` - номер тендера
- `title` - название/описание тендера
- `link` - полная ссылка на страницу тендера
- `category` - категория закупки
- `region` - регион проведения тендера
- `price` - начальная цена (в рублях)
- `end_date` - дата окончания подачи заявок
- `end_time` - время окончания подачи заявок
- `procurement_type` - тип закупки (44-ФЗ, 223-ФЗ, Коммерческий)

## Что бы улучшил

### Функциональные улучшения
1. **Фильтрация по параметрам**:
   - По региону
   - По категории
   - По ценовому диапазону
   - По типу закупки

2. **Расширенная обработка данных**:
   - Парсинг детальной страницы тендера
   - Извлечение контактной информации заказчика
   - Получение документов тендера
   - Анализ требований к участникам

3. **Мониторинг и уведомления**:
   - Отслеживание новых тендеров
   - Email/SMS уведомления о подходящих закупках
   - Telegram бот для уведомлений

### Технические улучшения
1. **Производительность**:
   - Асинхронные запросы (aiohttp/asyncio)
   - Многопоточность для параллельного парсинга
   - Кэширование уже обработанных страниц

2. **Надежность**:
   - Retry механизм для неудачных запросов
   - Прокси-ротация для обхода блокировок
   - Сохранение прогресса парсинга
   - Логирование всех операций

3. **Архитектура**:
   - Разделение на модули (parser, storage, config)
   - Конфигурационные файлы
   - База данных вместо CSV (SQLite/PostgreSQL)
   - API для доступа к данным

4. **Пользовательский интерфейс**:
   - Веб-интерфейс для управления парсером
   - Графики и аналитика по тендерам
   - Экспорт в различные форматы (Excel, JSON)

### Безопасность и этика
1. **Соблюдение robots.txt** - проверка разрешений сайта
2. **Rate limiting** - более мягкие задержки между запросами
3. **Respectful crawling** - уважение к серверу сайта
4. **Правовые аспекты** - проверка условий использования сайта

## Пример использования

```bash
# Парсить тендеры Москвы (50 штук)
python main.py --max 50 --url "https://rostender.info/extsearch?query=043b8e8d2e0b34710992076ce830e5a2?page={}" --output moscow_tenders.csv

# Парсить множество тендеров
python main.py --max 1000 --output all_tenders.csv
```

## Важные замечания

- Парсер предназначен только для образовательных целей
- Соблюдайте условия использования сайта rostender.info
- Не злоупотребляйте частыми запросами
- Используйте полученные данные ответственно

## Лицензия

Этот проект создан в образовательных целях. Используйте на свой страх и риск.
